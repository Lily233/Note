# **区块链开发笔记**

  区块保存的信息：

- hashCode:当前节点的哈希值
- preHash:前一个节点的哈希
- timeStamp:时间戳
- Diff:网络难度系数，若前缀0符合难度系数，则挖矿成功
- Data:交易信息
- Index:区块高度（索引，第一个块高度为1）
- Nonce:随机值，在挖矿的过程中变化，使其每次算出的hash值不同，进行哈希碰撞以符合网络难度



  挖矿的过程：

- 挖矿（可用PoW等其他共识算法）
- 上链，将区块放到链中
- 数据持久化存储（使用levelDB）
- 在广域网中广播



### LevelDB

​	leveldb是单机版的K-V存储系统

​	key和value都是任意字节数组，支持内容和持久化存储

​	基本数据操作接口：Put(key,value),Get(key),Delete(key)

​	多操作可作一次原子操作——支持事务

- 局限性：

  leveldb是非关系型数据库，不支持SQL查询和索引

  同一时间只支持单进程(支持多线程)访问

  不支持客户端-服务器端，用户需要自己封装

- 工作流程：

  写入的数据-->硬盘-->内存  （防止突然宕机导致的数据丢失）